{
  "hash": "4af557b2a3f993d72c9b66b8296a1312",
  "result": {
    "markdown": "---\ntitle: mutate()の練習問題\npage-layout: full\ntitle-block-banner: true\ncomments: false\n---\n\n\n\n課題1:\n\n配布したフォルダに含まれる、\"data/practive1.csv\"をインポートして利用してください。(インポートするところからが練習問題です)\n\nインポートすると、id,height(身長[cm]),weight(体重[kg])という列名を持つ表となっているはずです。\n\n課題2\n\n身長をcm単位のデータからm単位のデータにして、height_mという列名に入れてください。。(例えば、121[cm]であれば、100でわると、1.21[m]と、メートル単位になります。Rでは割り算は 121/100のように表します。)\n \n課題3\n\nheight_mを二乗して、hm_squaredという名前の列を作成してください。\n \n課題4\n\nweightとhm_squaredからBMI(body mass index)を計算して、bmi1という列名に保存しください。BMIの計算式は、体重[kg] ÷ (身長[m] * 身長[m])です。\n\n課題5\n\nweightとheightからBMIを計算して、bmi2という列名に保存してください。\n\nそれでは、動画をとめてどうぞ:\n\n\nできましたか?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n\n課題1:解答\n\n\"data/practice1.csv\"をインポートする\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat <- read_csv(\"data/practice1.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 10 Columns: 3\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (3): id, height, weight\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\ndat\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 3\n      id height weight\n   <dbl>  <dbl>  <dbl>\n 1     1   138.   60.5\n 2     2   153.   50.0\n 3     3   161.   54.5\n 4     4   127.   71.3\n 5     5   154.   89.2\n 6     6   155.   67.8\n 7     7   144.   59.8\n 8     8   145.   51.8\n 9     9   144.   53.3\n10    10   141.  118. \n```\n:::\n:::\n\n\n\n課題2\n\n身長をcm単位のデータからm単位のデータにして、height_mという列名に入れてください。\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat2 <- dat %>% \n  mutate(height_m = height/100)\ndat2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 4\n      id height weight height_m\n   <dbl>  <dbl>  <dbl>    <dbl>\n 1     1   138.   60.5     1.38\n 2     2   153.   50.0     1.53\n 3     3   161.   54.5     1.61\n 4     4   127.   71.3     1.27\n 5     5   154.   89.2     1.54\n 6     6   155.   67.8     1.55\n 7     7   144.   59.8     1.44\n 8     8   145.   51.8     1.45\n 9     9   144.   53.3     1.44\n10    10   141.  118.      1.41\n```\n:::\n:::\n\n\n\n課題3\n\nheight_mを二乗して、hm_squaredという名前の列を作成してください。\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat3 <- dat2 %>% \n  mutate(hm_squared = height_m * height_m)\n\ndat3\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 5\n      id height weight height_m hm_squared\n   <dbl>  <dbl>  <dbl>    <dbl>      <dbl>\n 1     1   138.   60.5     1.38       1.90\n 2     2   153.   50.0     1.53       2.33\n 3     3   161.   54.5     1.61       2.59\n 4     4   127.   71.3     1.27       1.60\n 5     5   154.   89.2     1.54       2.38\n 6     6   155.   67.8     1.55       2.40\n 7     7   144.   59.8     1.44       2.08\n 8     8   145.   51.8     1.45       2.09\n 9     9   144.   53.3     1.44       2.08\n10    10   141.  118.      1.41       1.99\n```\n:::\n:::\n\n\n\nあるいは、\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat3 <- dat2 %>% \n  mutate(hm_squared = height_m^2)\n\ndat3\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 5\n      id height weight height_m hm_squared\n   <dbl>  <dbl>  <dbl>    <dbl>      <dbl>\n 1     1   138.   60.5     1.38       1.90\n 2     2   153.   50.0     1.53       2.33\n 3     3   161.   54.5     1.61       2.59\n 4     4   127.   71.3     1.27       1.60\n 5     5   154.   89.2     1.54       2.38\n 6     6   155.   67.8     1.55       2.40\n 7     7   144.   59.8     1.44       2.08\n 8     8   145.   51.8     1.45       2.09\n 9     9   144.   53.3     1.44       2.08\n10    10   141.  118.      1.41       1.99\n```\n:::\n:::\n\n\n\nA^xでAのx乗という意味になります。\n\n課題4\n\nweightとhm_squaredからBMI(body mass index)を計算して、bmi1という列名に保存しください。\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat4 <- dat3 %>% \n  mutate(bmi1 = weight/hm_squared)\ndat4\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 6\n      id height weight height_m hm_squared  bmi1\n   <dbl>  <dbl>  <dbl>    <dbl>      <dbl> <dbl>\n 1     1   138.   60.5     1.38       1.90  31.8\n 2     2   153.   50.0     1.53       2.33  21.4\n 3     3   161.   54.5     1.61       2.59  21.1\n 4     4   127.   71.3     1.27       1.60  44.5\n 5     5   154.   89.2     1.54       2.38  37.5\n 6     6   155.   67.8     1.55       2.40  28.2\n 7     7   144.   59.8     1.44       2.08  28.7\n 8     8   145.   51.8     1.45       2.09  24.8\n 9     9   144.   53.3     1.44       2.08  25.6\n10    10   141.  118.      1.41       1.99  59.4\n```\n:::\n:::\n\n\n\n課題5\n\nweightとheightからBMIを計算して、bmi2という列名に保存してください。\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat5 <- dat4 %>% \n  mutate(bmi2 = weight/((height/100)^2))\n\ndat5\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 7\n      id height weight height_m hm_squared  bmi1  bmi2\n   <dbl>  <dbl>  <dbl>    <dbl>      <dbl> <dbl> <dbl>\n 1     1   138.   60.5     1.38       1.90  31.8  31.8\n 2     2   153.   50.0     1.53       2.33  21.4  21.4\n 3     3   161.   54.5     1.61       2.59  21.1  21.1\n 4     4   127.   71.3     1.27       1.60  44.5  44.5\n 5     5   154.   89.2     1.54       2.38  37.5  37.5\n 6     6   155.   67.8     1.55       2.40  28.2  28.2\n 7     7   144.   59.8     1.44       2.08  28.7  28.7\n 8     8   145.   51.8     1.45       2.09  24.8  24.8\n 9     9   144.   53.3     1.44       2.08  25.6  25.6\n10    10   141.  118.      1.41       1.99  59.4  59.4\n```\n:::\n:::\n\n\n\n一致していましたか？\n\nbmi1の手順、mutate関数1個で書くのであれば、\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 3\n      id height weight\n   <dbl>  <dbl>  <dbl>\n 1     1   138.   60.5\n 2     2   153.   50.0\n 3     3   161.   54.5\n 4     4   127.   71.3\n 5     5   154.   89.2\n 6     6   155.   67.8\n 7     7   144.   59.8\n 8     8   145.   51.8\n 9     9   144.   53.3\n10    10   141.  118. \n```\n:::\n\n```{.r .cell-code}\ndat %>% \n  mutate(\n    height_m = height/100,\n    hm_squared = height_m^2,\n    bmi1 = weight/hm_squared\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 6\n      id height weight height_m hm_squared  bmi1\n   <dbl>  <dbl>  <dbl>    <dbl>      <dbl> <dbl>\n 1     1   138.   60.5     1.38       1.90  31.8\n 2     2   153.   50.0     1.53       2.33  21.4\n 3     3   161.   54.5     1.61       2.59  21.1\n 4     4   127.   71.3     1.27       1.60  44.5\n 5     5   154.   89.2     1.54       2.38  37.5\n 6     6   155.   67.8     1.55       2.40  28.2\n 7     7   144.   59.8     1.44       2.08  28.7\n 8     8   145.   51.8     1.45       2.09  24.8\n 9     9   144.   53.3     1.44       2.08  25.6\n10    10   141.  118.      1.41       1.99  59.4\n```\n:::\n:::\n\n\n\nと書くこともできますし、パイプをつなげて書くのであれば、\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat %>% \n  mutate(height_m = height/100) %>% \n  mutate(hm_squared = height_m^2) %>% \n  mutate(bmi1 = weight/hm_squared)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 10 × 6\n      id height weight height_m hm_squared  bmi1\n   <dbl>  <dbl>  <dbl>    <dbl>      <dbl> <dbl>\n 1     1   138.   60.5     1.38       1.90  31.8\n 2     2   153.   50.0     1.53       2.33  21.4\n 3     3   161.   54.5     1.61       2.59  21.1\n 4     4   127.   71.3     1.27       1.60  44.5\n 5     5   154.   89.2     1.54       2.38  37.5\n 6     6   155.   67.8     1.55       2.40  28.2\n 7     7   144.   59.8     1.44       2.08  28.7\n 8     8   145.   51.8     1.45       2.09  24.8\n 9     9   144.   53.3     1.44       2.08  25.6\n10    10   141.  118.      1.41       1.99  59.4\n```\n:::\n:::\n\n\n\nと書いてもOKです。\n\n(個人的にはmutate関数毎の変数作成する癖がありますが、これは好き好きでよいと思います。)\n\n以上、mutate関数の説明でした。次は変数名を操作する関数をご紹介していきます\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
---
title: 補足 R4.0.0以降のRaw String
page-layout: full
title-block-banner: true
comments: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, error = TRUE)
```

少しだけ補足です。

一般的な正規表現は、\ １つでメタ文字を表してくれるのですが、Rの正規表現は、\にはエスケープの意味があるので、\dという数字を表す場合は \\dというふうに、一つ目の\で二つめのバックスラッシュに特別な意味はありませんという意味にしてあげる必要があります。

R 4.0.0以降では、この\\というややこしい表記をしないでよいようにするための特別な書き方が導入されており、

```{r}
""
r"()"

"abc"
r"(abc)"
```

という具合に、r""とかいてあげて、""の内側に、()を入れてあげることで「このテキストは\に特別な意味がないですよ」という意味になります。なので、

```{r}
#"\d"
```

だとエラーがでるので、

```{r}
"\\d"
```

実際はcatという実際の印字を表現できる関数にいれてあげると、

```{r}
cat("\\d")
```

と\が一つになっています。これに、r""の記載方法を用いてあげると、

```{r}
cat(r"(\d)")

cat("\\\\d")
cat(r"(\\d)")
```

という具合です。

本コースでは、r"()"表記でなく""表記を用いていますが、どちらを用いていただいても構いません。

ついでにもう少しこのr()とcatの動きをみておきましょう。\nは改行を表すので、

```{r}
cat(  "abc\ndef\nghi" )
cat(r"(abc\ndef\nghi)")
cat(  "abc\\ndef\\nghi")
```

こんな感じの結果になります。

それでは続けていきましょう。


---
title: 練習問題(解答)
page-layout: full
title-block-banner: true
comments: false
---

```{r, message=FALSE}
library(tidyverse)
```


それでは解答です。

### Logical

練習問題1

Logical型2種類はなんでしょうか?またその短縮した書き方を書いてください

```{r}
TRUE
FALSE
```

が2種類です。短縮するなら

```{r}
T
F
```

-1

Logical型を数字に変換した場合と文字列に変換した場合をそれぞれ実行してみてください

```{r}
as.numeric(c(T,F))
as.character(c(T,F))
```

-2

次のうち、FALSEとなるのはどれでしょうか?

```{r}
as.logical(-1)
as.logical(0)
as.logical(1)
as.logical(2)
```


練習問題3

TRUE + TRUEの結果は何になりますか?

```{r}
T + T
```

### ==オペレーター

練習問題4

```{r}
a <- 10
b <- ""

a == b #がTRUEとなる値をbに入れてください。

a <- 10
b <- 10
a == b
```

### 比較オペレーター

練習問題5　

次の実行結果がすべてTRUEとなるように==以外を用いて書き換えてくださいまた、各オペレーターは1回のみ利用できます(答えは複数あります)>, <, >=, <=, !=,

```{r}
5 <  6 #5 == 6
5 <= 6 #5 == 6
5 != 6 #5 == 6

5 >  4 #5 == 4
5 >= 4 #5 == 4
5 != 4 #5 == 4

5 <= 5 #5 == 5
5 >= 5 #5 == 5

"dog" <= "dog" #"dog" == "dog"
"dog" >= "dog" #"dog" == "dog"
```

### ベクトルとロジカル

練習問題6 

次のスクリプトの実行結果がどうなるか、予想してみてください。

```{r}
vec <- c(1,2,3,4,5)

vec[TRUE]
```

これは、c(T,T,T,T,T)と同じ意味になります。

```{r}
vec[c(T,T,T,T,F)]
```

これは、そのまま、Tがある部分が取り出されます

```{r}
vec[c(T,F)]
```

これの動作、少しわかりにくいかもしれませんが、

1 2 3 4 5 
T F T F T F

とベクトルの長さが不一致の場合、短いほうのベクトルが「繰り返される」ので、このような結果になります

```{r}
vec[vec < 3]
```

これは

```{r}
vec < 3
```

のT、FのTの位置がとりだされているだけですね。

### ロジカルオペレーターと!

練習問題7 

次の &オペレーターの左側のベクトルに!をを書き足して、実行結果がすべてTRUEとなるようにしてください。

```{r}
c(T,F,T,F,T) & c(T,T,T,T,T)

T&T#が唯一TRUEと返ってくるので、
```

FALSEの前に!でTRUEに変換してあげましょう

```{r}
c(T,!F,T,!F,T) & c(T,T,T,T,T)
```

練習問題8 

次の |オペレーターの左側のベクトルに!をを書き足して、実行結果がすべてFALSEとなるようにしてください。

```{r}
c(T,F,T,F,T) | c(F,F,F,F,F)
```

Fと返ってくるのが、F|Fの時だけなので、

```{r}
c(!T,F,!T,F,!T) | c(F,F,F,F,F)
```

練習問題9

次のvecからvec[...]の書き方を使って

9-1 3をとりだしてください
9-2 2の倍数を取り出してください
9-3 7の倍数を取り出してください
9-4 奇数をとりだしてください。
9-5 3の倍数かつ5の倍数あるいは4の倍数かつ7の倍数をとりだしてください。

```{r}
vec <- c(1:50)
```

9-1 3をとりだしてください

```{r}
vec[vec==3]
```

9-2 2の倍数を取り出してください

```{r}
vec[vec %% 2 == 0]
```

9-3 7の倍数を取り出してください

```{r}
vec[vec %% 7 == 0]
```

9-4 奇数をとりだしてください。

```{r}
vec[vec %% 2 == 1]
```

9-5 3の倍数かつ5の倍数あるいは4の倍数かつ7の倍数をとりだしてください。

複雑な条件の場合、ロジカルを分けて作成すると見通しがよくなります

```{r}
baisu3and5 <- (vec %% 3 == 0) & (vec %% 5 == 0)
baisu4and7 <- (vec %% 4 == 0) & (vec %% 7 == 0)

vec[baisu3and5]
vec[baisu4and7]

vec[baisu3and5 | baisu4and7]
```

できました。ちなみに、1行でかきたいのであれば、

```{r}
vec[((vec %% 3 == 0) & (vec %% 5 == 0))|((vec %% 4 == 0) & (vec %% 7 == 0))]
```

と、かなりわかりにくくなります。

ただし、複雑な場合でも、次のような形で書いても大丈夫なので、

```{r}
vec[ 
  ( (vec %% 3 == 0) & (vec %% 5 == 0) ) 
  　| 
  ( (vec %% 4 == 0) & (vec %% 7 == 0) ) 
]
```

特に誰かとスクリプトを共有する場合は分かりやすくする意味で改行やスペースをうまく使えるとよいと思います。

お疲れさまでした。それでは、ここで学んだLogical型を利用して、行の操作の関数を学んでいきます

